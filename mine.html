<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
   <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,
  minimum-scale=1,user-scalable=no">
  <link rel="stylesheet" type="text/css" href="./css/base.css">
  <link rel="stylesheet" type="text/css" href="./css/mine.css">
  <link rel="stylesheet" type="text/css" href="./components/date/date.css">
</head>
<style type="text/css">

</style>
<body>
  <div class="status">Candy Plan</div>
  <div >
  <div class="list-title">工作学习</div>
    <div id="work-box">
      <ul id="work-list"></ul>
      <input id="work" class="input" type="text" name="">
    </div>
  </div>
  
  <div >
  <div  class="list-title">健康运动</div>
    <div id="health-box">
      <ul id="health-list"></ul>
      <input  id = "health" class="input"  type="text" name="">
    </div>
  </div>
   <div  class="list-title">休闲放松</div>
    <div id="relax-box">
      <ul id="relax-list"></ul>
      <input  id = "relax" class="input"  type="text" name="">
    </div>
  </div>
  <div  class="list-title">其他</div>
    <div id="other-box">
      <ul id="other-list"></ul>
      <input  id = "other" class="input"  type="text" name="">
    </div>
  </div>

  <div class="footer">
   <div>  
     <a href="./day.html">今日计划</a> 
   </div>
   <div>
     <a href="./mine.html">我的计划</a> 
   </div>
  </div>
  <!-- **********日期组件*************** -->
  <div id = "newDate" ></div>

</body>

<script src="./util/public.js"></script>
<!-- <script src="./components/date/date.js"></script> -->
<script src="./components/date/newDate.js"></script>
<script type="text/javascript">
  // let currentObj = {};
  let currentType = "";
  let starday = {};
  let endday  = {};
  let array = ['work','health','relax','other'];
  _util.initLoad(array);

  //注册日期组建
  let  dateNew  =  new newDate('newDate');
  dateNew.addConfirmEvent(getConfirmDate);

  array.map((item)=>{
     _util.addBlur(item,addBlurfn);
  })

  function addBlurfn(obj,type){
    dateNew.show();
    // currentObj = obj;
    currentType = type;
  }

  function getConfirmDate(){
      let date = dateNew.getDate();
      let obj = document.getElementById(currentType);
      let item = {
        date : date.date,
        date2 : date.date2,
        message:  obj.value
      };
      _util.upDateType(currentType,item);
      obj.value = "";
  }
  
</script>
</html>